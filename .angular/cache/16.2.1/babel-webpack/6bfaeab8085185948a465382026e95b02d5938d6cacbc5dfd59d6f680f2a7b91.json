{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Tag } from '../model/tag';\nexport let FormTagComponent = class FormTagComponent {\n  constructor(crud, activatedRoute, router) {\n    this.crud = crud;\n    this.activatedRoute = activatedRoute;\n    this.router = router;\n    this.tag = new Tag();\n    this.tags = [];\n  }\n  ngOnInit() {\n    this.idTag = this.activatedRoute.snapshot.params['id'];\n    this.crud.getTag(this.idTag).subscribe(tags => {\n      this.tag = tags;\n    });\n  }\n  insertTag(tag) {\n    this.crud.addTag(tag).subscribe(message => {\n      this.message = message;\n    });\n  }\n  getTag(id) {\n    this.crud.getTag(id).subscribe(tagObs => {\n      this.tag = tagObs;\n    });\n  }\n  onSearch() {\n    this.tag = this.getTag(this.tag.id);\n  }\n  resetMessage() {\n    this.message = \"\";\n  }\n  onSubmit() {\n    if (this.tags.length == null) {\n      this.crud.addTag(this.tag).subscribe(message => {\n        this.message = message;\n        this.router.navigate([\"tabellaTag\"]);\n      });\n      this.tag = new Tag();\n    } else {\n      this.crud.addTag(this.tag).subscribe(message => {\n        this.message = message;\n        this.router.navigate([\"tabellaTag\"]);\n      });\n      this.tag = new Tag();\n    }\n  }\n};\nFormTagComponent = __decorate([Component({\n  selector: 'app-form-tag',\n  templateUrl: './form-tag.component.html',\n  styleUrls: ['./form-tag.component.css']\n})], FormTagComponent);","map":{"version":3,"names":["Component","Tag","FormTagComponent","constructor","crud","activatedRoute","router","tag","tags","ngOnInit","idTag","snapshot","params","getTag","subscribe","insertTag","addTag","message","id","tagObs","onSearch","resetMessage","onSubmit","length","navigate","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\feder\\OneDrive\\Documents\\GitHub\\systemFeedback\\src\\app\\form-tag\\form-tag.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Tag } from '../model/tag';\r\nimport { TagService } from '../servizi/tag.service';\r\nimport { ActivatedRoute,Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-form-tag',\r\n  templateUrl: './form-tag.component.html',\r\n  styleUrls: ['./form-tag.component.css']\r\n})\r\nexport class FormTagComponent implements OnInit{\r\n\r\n  message!: string;\r\n  tag: Tag = new Tag();\r\n  tags:Tag[]=[]\r\n  idTag!: number;\r\n\r\n  constructor(private crud: TagService,private activatedRoute: ActivatedRoute, private router: Router){}\r\n\r\n\r\n  ngOnInit(): void {\r\n    this.idTag = this.activatedRoute.snapshot.params ['id'];\r\n    this.crud.getTag(this.idTag).subscribe((tags:Tag) =>{\r\n      this.tag = tags;\r\n    });\r\n  }\r\n\r\n  insertTag(tag: Tag): void {\r\n    this.crud.addTag(tag).subscribe((message: string) => {\r\n      this.message = message;\r\n    });\r\n  }\r\n  \r\n  getTag(id: number): any{\r\n    this.crud.getTag(id).subscribe(( tagObs: Tag) => {this.tag = tagObs})\r\n  }\r\n\r\n  onSearch(): void {\r\n    this.tag = this.getTag(this.tag.id);\r\n  }\r\n\r\n  resetMessage(): void{\r\n    this.message = \"\";\r\n  }\r\n\r\n  onSubmit(): void {\r\n    if(this.tags.length==null){\r\n      this.crud.addTag(this.tag).subscribe((message:string)=>{\r\n        this.message=message;\r\n        this.router.navigate([\"tabellaTag\"]);\r\n      });\r\n      this.tag = new Tag();\r\n    }\r\n    else{\r\n      this.crud.addTag(this.tag).subscribe((message:string)=>{\r\n        this.message=message;\r\n        this.router.navigate([\"tabellaTag\"]);\r\n      })\r\n      this.tag = new Tag();\r\n    }\r\n  \r\n  }\r\n\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD,SAASC,GAAG,QAAQ,cAAc;AAS3B,WAAMC,gBAAgB,GAAtB,MAAMA,gBAAgB;EAO3BC,YAAoBC,IAAgB,EAASC,cAA8B,EAAUC,MAAc;IAA/E,KAAAF,IAAI,GAAJA,IAAI;IAAqB,KAAAC,cAAc,GAAdA,cAAc;IAA0B,KAAAC,MAAM,GAANA,MAAM;IAJ3F,KAAAC,GAAG,GAAQ,IAAIN,GAAG,EAAE;IACpB,KAAAO,IAAI,GAAO,EAAE;EAGwF;EAGrGC,QAAQA,CAAA;IACN,IAAI,CAACC,KAAK,GAAG,IAAI,CAACL,cAAc,CAACM,QAAQ,CAACC,MAAM,CAAE,IAAI,CAAC;IACvD,IAAI,CAACR,IAAI,CAACS,MAAM,CAAC,IAAI,CAACH,KAAK,CAAC,CAACI,SAAS,CAAEN,IAAQ,IAAI;MAClD,IAAI,CAACD,GAAG,GAAGC,IAAI;IACjB,CAAC,CAAC;EACJ;EAEAO,SAASA,CAACR,GAAQ;IAChB,IAAI,CAACH,IAAI,CAACY,MAAM,CAACT,GAAG,CAAC,CAACO,SAAS,CAAEG,OAAe,IAAI;MAClD,IAAI,CAACA,OAAO,GAAGA,OAAO;IACxB,CAAC,CAAC;EACJ;EAEAJ,MAAMA,CAACK,EAAU;IACf,IAAI,CAACd,IAAI,CAACS,MAAM,CAACK,EAAE,CAAC,CAACJ,SAAS,CAAGK,MAAW,IAAI;MAAE,IAAI,CAACZ,GAAG,GAAGY,MAAM;IAAA,CAAC,CAAC;EACvE;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACb,GAAG,GAAG,IAAI,CAACM,MAAM,CAAC,IAAI,CAACN,GAAG,CAACW,EAAE,CAAC;EACrC;EAEAG,YAAYA,CAAA;IACV,IAAI,CAACJ,OAAO,GAAG,EAAE;EACnB;EAEAK,QAAQA,CAAA;IACN,IAAG,IAAI,CAACd,IAAI,CAACe,MAAM,IAAE,IAAI,EAAC;MACxB,IAAI,CAACnB,IAAI,CAACY,MAAM,CAAC,IAAI,CAACT,GAAG,CAAC,CAACO,SAAS,CAAEG,OAAc,IAAG;QACrD,IAAI,CAACA,OAAO,GAACA,OAAO;QACpB,IAAI,CAACX,MAAM,CAACkB,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC;MACtC,CAAC,CAAC;MACF,IAAI,CAACjB,GAAG,GAAG,IAAIN,GAAG,EAAE;KACrB,MACG;MACF,IAAI,CAACG,IAAI,CAACY,MAAM,CAAC,IAAI,CAACT,GAAG,CAAC,CAACO,SAAS,CAAEG,OAAc,IAAG;QACrD,IAAI,CAACA,OAAO,GAACA,OAAO;QACpB,IAAI,CAACX,MAAM,CAACkB,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC;MACtC,CAAC,CAAC;MACF,IAAI,CAACjB,GAAG,GAAG,IAAIN,GAAG,EAAE;;EAGxB;CAED;AArDYC,gBAAgB,GAAAuB,UAAA,EAL5BzB,SAAS,CAAC;EACT0B,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,0BAA0B;CACvC,CAAC,C,EACW1B,gBAAgB,CAqD5B"},"metadata":{},"sourceType":"module","externalDependencies":[]}