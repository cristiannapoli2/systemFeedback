{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from \"@angular/core\";\nexport let TabUserComponent = class TabUserComponent {\n  constructor(crud) {\n    this.crud = crud;\n    this.users = [];\n    this.roles = [];\n  }\n  ngOnInit() {\n    this.page = 0;\n    this.getUserImp(this.page);\n  }\n  getUser() {\n    this.crud.getUsers(this.page).subscribe(users => {\n      this.users = users;\n    });\n  }\n  getUserImp(page) {\n    this.crud.getUsersDim().subscribe(dim => {\n      this.nPagine = Math.round(dim / 5);\n    });\n    if (page < 0) {\n      this.page = 0;\n    } else if (page > this.nPagine) {\n      this.page = this.nPagine;\n    } else {\n      this.page = page;\n    }\n    this.crud.getUsers(this.page).subscribe(users => {\n      this.users = users;\n      this.message = \"\";\n    });\n    if (this.users.length == 0) {\n      this.nPagine = this.nPagine - 1;\n    }\n  }\n  deleteUser(user) {\n    let confirmation = confirm(\"Conferma la cancellazione dell'utente?\");\n    if (confirmation) {\n      this.crud.deleteUser(user.id).subscribe(message => {\n        this.message = message;\n        this.getUserImp(this.page);\n      });\n    }\n  }\n};\nTabUserComponent = __decorate([Component({\n  selector: \"app-tab-user\",\n  templateUrl: \"./tab-user.component.html\",\n  styleUrls: [\"./tab-user.component.css\"]\n})], TabUserComponent);","map":{"version":3,"names":["Component","TabUserComponent","constructor","crud","users","roles","ngOnInit","page","getUserImp","getUser","getUsers","subscribe","getUsersDim","dim","nPagine","Math","round","message","length","deleteUser","user","confirmation","confirm","id","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\feder\\OneDrive\\Documents\\GitHub\\systemFeedback\\src\\app\\tab-user\\tab-user.component.ts"],"sourcesContent":["import { Component } from \"@angular/core\";\nimport { User } from \"../model/user\";\nimport { UserCrudService } from \"../servizi/user-crud.service\";\nimport { Role } from \"../model/role\";\n\n@Component({\n  selector: \"app-tab-user\",\n  templateUrl: \"./tab-user.component.html\",\n  styleUrls: [\"./tab-user.component.css\"],\n})\nexport class TabUserComponent {\n  users: User[] = [];\n  message!: string;\n  token!: string;\n  page!: number;\n  nPagine!: number;\n  role!:Role;\n  roles:Role[]=[];\n\n  constructor(private crud: UserCrudService) {}\n\n  ngOnInit(): void {\n    this.page = 0;\n    this.getUserImp(this.page);\n  }\n\n  getUser(): void {\n    this.crud.getUsers(this.page).subscribe((users: User[]) => {\n      this.users = users;\n    });\n  }\n  getUserImp(page: number): void {\n    this.crud.getUsersDim().subscribe((dim: number) => {\n      this.nPagine = Math.round(dim / 5);\n    });\n    if (page < 0) {\n      this.page = 0;\n    } else if (page > this.nPagine) {\n      this.page = this.nPagine;\n    } else {\n      this.page = page;\n    }\n    this.crud.getUsers(this.page).subscribe((users: User[]) => {\n      this.users = users;\n      this.message = \"\";\n    });\n    if (this.users.length == 0) {\n      this.nPagine = this.nPagine - 1;\n    }\n  }\n\n  deleteUser(user: User): void {\n    let confirmation = confirm(\"Conferma la cancellazione dell'utente?\");\n    if (confirmation) {\n      this.crud\n        .deleteUser(user.id)\n        .subscribe((message: string) => {\n          this.message = message;\n          this.getUserImp(this.page);\n        });\n    }\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAUlC,WAAMC,gBAAgB,GAAtB,MAAMA,gBAAgB;EAS3BC,YAAoBC,IAAqB;IAArB,KAAAA,IAAI,GAAJA,IAAI;IARxB,KAAAC,KAAK,GAAW,EAAE;IAMlB,KAAAC,KAAK,GAAQ,EAAE;EAE6B;EAE5CC,QAAQA,CAAA;IACN,IAAI,CAACC,IAAI,GAAG,CAAC;IACb,IAAI,CAACC,UAAU,CAAC,IAAI,CAACD,IAAI,CAAC;EAC5B;EAEAE,OAAOA,CAAA;IACL,IAAI,CAACN,IAAI,CAACO,QAAQ,CAAC,IAAI,CAACH,IAAI,CAAC,CAACI,SAAS,CAAEP,KAAa,IAAI;MACxD,IAAI,CAACA,KAAK,GAAGA,KAAK;IACpB,CAAC,CAAC;EACJ;EACAI,UAAUA,CAACD,IAAY;IACrB,IAAI,CAACJ,IAAI,CAACS,WAAW,EAAE,CAACD,SAAS,CAAEE,GAAW,IAAI;MAChD,IAAI,CAACC,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACH,GAAG,GAAG,CAAC,CAAC;IACpC,CAAC,CAAC;IACF,IAAIN,IAAI,GAAG,CAAC,EAAE;MACZ,IAAI,CAACA,IAAI,GAAG,CAAC;KACd,MAAM,IAAIA,IAAI,GAAG,IAAI,CAACO,OAAO,EAAE;MAC9B,IAAI,CAACP,IAAI,GAAG,IAAI,CAACO,OAAO;KACzB,MAAM;MACL,IAAI,CAACP,IAAI,GAAGA,IAAI;;IAElB,IAAI,CAACJ,IAAI,CAACO,QAAQ,CAAC,IAAI,CAACH,IAAI,CAAC,CAACI,SAAS,CAAEP,KAAa,IAAI;MACxD,IAAI,CAACA,KAAK,GAAGA,KAAK;MAClB,IAAI,CAACa,OAAO,GAAG,EAAE;IACnB,CAAC,CAAC;IACF,IAAI,IAAI,CAACb,KAAK,CAACc,MAAM,IAAI,CAAC,EAAE;MAC1B,IAAI,CAACJ,OAAO,GAAG,IAAI,CAACA,OAAO,GAAG,CAAC;;EAEnC;EAEAK,UAAUA,CAACC,IAAU;IACnB,IAAIC,YAAY,GAAGC,OAAO,CAAC,wCAAwC,CAAC;IACpE,IAAID,YAAY,EAAE;MAChB,IAAI,CAAClB,IAAI,CACNgB,UAAU,CAACC,IAAI,CAACG,EAAE,CAAC,CACnBZ,SAAS,CAAEM,OAAe,IAAI;QAC7B,IAAI,CAACA,OAAO,GAAGA,OAAO;QACtB,IAAI,CAACT,UAAU,CAAC,IAAI,CAACD,IAAI,CAAC;MAC5B,CAAC,CAAC;;EAER;CACD;AApDYN,gBAAgB,GAAAuB,UAAA,EAL5BxB,SAAS,CAAC;EACTyB,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,0BAA0B;CACvC,CAAC,C,EACW1B,gBAAgB,CAoD5B"},"metadata":{},"sourceType":"module","externalDependencies":[]}