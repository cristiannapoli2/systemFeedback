{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Feedback } from '../model/feedback';\nexport let FormFeedbackComponent = class FormFeedbackComponent {\n  constructor(crud, activatedRoute, router, http) {\n    this.crud = crud;\n    this.activatedRoute = activatedRoute;\n    this.router = router;\n    this.http = http;\n    this.feedback = new Feedback();\n    this.feeds = [];\n    this.tags = [];\n  }\n  ngOnInit() {\n    this.getTagFeed;\n    this.idfeedback = this.activatedRoute.snapshot.params['id'];\n    this.crud.getFeedback(this.idfeedback).subscribe(feedback => {\n      this.feedback = feedback;\n    });\n  }\n  insertTag(feedback) {\n    this.crud.addFeedback(feedback).subscribe(message => {\n      this.message = message;\n    });\n  }\n  getTagFeed() {\n    this.crud.getTags().subscribe(tags => {\n      this.tags = tags;\n      console.log(this.tags); // Verifica se i dati dei tag sono stati correttamente recuperati\n    });\n  }\n\n  getFeedback(id) {\n    this.crud.getFeedback(id).subscribe(feedObs => {\n      this.feedback = feedObs;\n    });\n  }\n  onSearch() {\n    this.feedback = this.getFeedback(this.feedback.id);\n    this.getTagFeed;\n  }\n  resetMessage() {\n    this.message = \"\";\n  }\n  onSubmit() {\n    if (this.feeds.length == null) {\n      this.crud.addFeedback(this.feedback).subscribe(message => {\n        this.message = message;\n        this.router.navigate([\"tabellaFeed\"]);\n      });\n      this.feedback = new Feedback();\n    } else {\n      this.crud.addFeedback(this.feedback).subscribe(message => {\n        this.message = message;\n        this.router.navigate([\"tabellaFeed\"]);\n      });\n      this.feedback = new Feedback();\n    }\n  }\n};\nFormFeedbackComponent = __decorate([Component({\n  selector: 'app-form-feedback',\n  templateUrl: './form-feedback.component.html',\n  styleUrls: ['./form-feedback.component.css']\n})], FormFeedbackComponent);","map":{"version":3,"names":["Component","Feedback","FormFeedbackComponent","constructor","crud","activatedRoute","router","http","feedback","feeds","tags","ngOnInit","getTagFeed","idfeedback","snapshot","params","getFeedback","subscribe","insertTag","addFeedback","message","getTags","console","log","id","feedObs","onSearch","resetMessage","onSubmit","length","navigate","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\feder\\OneDrive\\Documents\\GitHub\\systemFeedback\\src\\app\\form-feedback\\form-feedback.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Feedback } from '../model/feedback';\r\nimport { FeedbackService } from '../servizi/feedback.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Tag } from '../model/tag';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Component({\r\n  selector: 'app-form-feedback',\r\n  templateUrl: './form-feedback.component.html',\r\n  styleUrls: ['./form-feedback.component.css']\r\n})\r\nexport class FormFeedbackComponent implements OnInit{\r\n\r\n  message!: string;\r\n  feedback: Feedback = new Feedback();\r\n  feeds:Feedback[]=[];\r\n  idfeedback!: number;\r\n  tags:Tag[]=[];\r\n\r\n  \r\n\r\n  constructor(private crud: FeedbackService,private activatedRoute: ActivatedRoute, private router: Router, private http: HttpClient){}\r\n  \r\n\r\n  ngOnInit(): void {\r\n    this.getTagFeed;\r\n    this.idfeedback = this.activatedRoute.snapshot.params ['id'];\r\n    this.crud.getFeedback(this.idfeedback).subscribe((feedback:Feedback) =>{\r\n      this.feedback = feedback;\r\n    });\r\n   \r\n  }\r\n\r\n  insertTag(feedback: Feedback): void {\r\n    this.crud.addFeedback(feedback).subscribe((message: string) => {\r\n      this.message = message;\r\n    });\r\n  }\r\n\r\n  getTagFeed(): void {\r\n    this.crud.getTags().subscribe((tags: Tag[]) => {\r\n      this.tags = tags;\r\n      console.log(this.tags); // Verifica se i dati dei tag sono stati correttamente recuperati\r\n    });\r\n  }\r\n  \r\n  \r\n\r\n  getFeedback(id: number): any{\r\n    this.crud.getFeedback(id).subscribe(( feedObs: Feedback) => {this.feedback = feedObs})\r\n  }\r\n\r\n  onSearch(): void {\r\n    this.feedback = this.getFeedback(this.feedback.id);\r\n    this.getTagFeed;\r\n  }\r\n\r\n  resetMessage(): void{\r\n    this.message = \"\";\r\n  }\r\n\r\n  onSubmit(): void {\r\n    if(this.feeds.length==null){\r\n      this.crud.addFeedback(this.feedback).subscribe((message:string)=>{\r\n        this.message=message;\r\n        this.router.navigate([\"tabellaFeed\"]);\r\n      });\r\n      this.feedback = new Feedback();\r\n    }\r\n    else{\r\n      this.crud.addFeedback(this.feedback).subscribe((message:string)=>{\r\n        this.message=message;\r\n        this.router.navigate([\"tabellaFeed\"]);\r\n      })\r\n      this.feedback = new Feedback();\r\n    }\r\n\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}